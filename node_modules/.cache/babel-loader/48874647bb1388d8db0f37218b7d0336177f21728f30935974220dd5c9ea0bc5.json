{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mohamed\\\\Desktop\\\\chatbot-notMain\\\\chatbot-notMain\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport ChatBotIcon from \"./components/ChatBotIcon\";\nimport \"./index.css\";\nimport ChatForm from \"./components/ChatForm\";\nimport ChatMessage from \"./components/ChatMessage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [chatHistory, setChatHistory] = useState([]);\n  const [showChat, setShowChat] = useState(false); // Toggle state for chat visibility\n  const chatBodyRef = useRef();\n  const generateBotResponse = async history => {\n    const updateHistory = text => {\n      setChatHistory(prev => [...prev.filter(msg => msg.text !== \"Thinking...\"), {\n        role: \"model\",\n        text\n      }]);\n    };\n    history = history.map(({\n      role,\n      text\n    }) => ({\n      role,\n      parts: [{\n        text\n      }]\n    }));\n    const requestOption = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        contents: history\n      })\n    };\n    try {\n      var _data$candidates$, _data$candidates$$con, _data$candidates$$con2, _data$candidates$$con3, _data$candidates$$con4;\n      const response = await fetch(\"https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro:generateContent?key=AIzaSyDsyfitx1_JjgMKKZdKYlLkz3lSlmke32g\", requestOption);\n      const data = await response.json();\n      if (!response.ok) throw new Error(data.error.message || \"Something went WRONG!!\");\n      const apiResponseText = ((_data$candidates$ = data.candidates[0]) === null || _data$candidates$ === void 0 ? void 0 : (_data$candidates$$con = _data$candidates$.content) === null || _data$candidates$$con === void 0 ? void 0 : (_data$candidates$$con2 = _data$candidates$$con.parts) === null || _data$candidates$$con2 === void 0 ? void 0 : (_data$candidates$$con3 = _data$candidates$$con2[0]) === null || _data$candidates$$con3 === void 0 ? void 0 : (_data$candidates$$con4 = _data$candidates$$con3.text) === null || _data$candidates$$con4 === void 0 ? void 0 : _data$candidates$$con4.replace(/\\*\\*(.*?)\\*\\*/g, \"$1\").trim()) || \"I didn't understand that.\";\n      updateHistory(apiResponseText);\n    } catch (error) {\n      console.error(\"Error fetching response:\", error);\n      updateHistory(\"Oops! Something went wrong. Please try again.\");\n    }\n  };\n  useEffect(() => {\n    if (chatBodyRef.current) {\n      chatBodyRef.current.scrollTo({\n        top: chatBodyRef.current.scrollHeight,\n        behavior: \"smooth\"\n      });\n    }\n  }, [chatHistory]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"toggle-chat-btn\",\n      onClick: () => setShowChat(!showChat),\n      children: showChat ? /*#__PURE__*/_jsxDEV(ChatBotIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(ChatBotIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 39\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), showChat && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-popup\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-info\",\n          children: [/*#__PURE__*/_jsxDEV(ChatBotIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"logo-text\",\n            children: \"Chatboy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-chat-btn\",\n          onClick: () => setShowChat(false),\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatBodyRef,\n        className: \"chat-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message bot-message\",\n          children: [/*#__PURE__*/_jsxDEV(ChatBotIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"message-text\",\n            children: [\"Hey there! \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 28\n            }, this), \" How can I help you today?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), chatHistory.map((chat, index) => /*#__PURE__*/_jsxDEV(ChatMessage, {\n          chat: chat\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-footer\",\n        children: /*#__PURE__*/_jsxDEV(ChatForm, {\n          chatHistory: chatHistory,\n          setChatHistory: setChatHistory,\n          generateBotResponse: generateBotResponse\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"6tMNLfy6vFAx6ivz46M8rkTAY50=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","ChatBotIcon","ChatForm","ChatMessage","jsxDEV","_jsxDEV","App","_s","chatHistory","setChatHistory","showChat","setShowChat","chatBodyRef","generateBotResponse","history","updateHistory","text","prev","filter","msg","role","map","parts","requestOption","method","headers","body","JSON","stringify","contents","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","_data$candidates$$con4","response","fetch","data","json","ok","Error","error","message","apiResponseText","candidates","content","replace","trim","console","current","scrollTo","top","scrollHeight","behavior","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","chat","index","_c","$RefreshReg$"],"sources":["C:/Users/Mohamed/Desktop/chatbot-notMain/chatbot-notMain/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport ChatBotIcon from \"./components/ChatBotIcon\";\nimport \"./index.css\";\nimport ChatForm from \"./components/ChatForm\";\nimport ChatMessage from \"./components/ChatMessage\";\n\nconst App = () => {\n  const [chatHistory, setChatHistory] = useState([]);\n  const [showChat, setShowChat] = useState(false); // Toggle state for chat visibility\n  const chatBodyRef = useRef();\n\n  const generateBotResponse = async (history) => {\n    const updateHistory = (text) => {\n      setChatHistory((prev) => [\n        ...prev.filter((msg) => msg.text !== \"Thinking...\"),\n        { role: \"model\", text },\n      ]);\n    };\n\n    history = history.map(({ role, text }) => ({ role, parts: [{ text }] }));\n    const requestOption = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ contents: history }),\n    };\n\n    try {\n      const response = await fetch(\n        \"https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro:generateContent?key=AIzaSyDsyfitx1_JjgMKKZdKYlLkz3lSlmke32g\",\n        requestOption\n      );\n      const data = await response.json();\n      if (!response.ok)\n        throw new Error(data.error.message || \"Something went WRONG!!\");\n      const apiResponseText =\n        data.candidates[0]?.content?.parts?.[0]?.text?.replace(\n          /\\*\\*(.*?)\\*\\*/g,\n          \"$1\"\n        ).trim() || \"I didn't understand that.\";\n      updateHistory(apiResponseText);\n    } catch (error) {\n      console.error(\"Error fetching response:\", error);\n      updateHistory(\"Oops! Something went wrong. Please try again.\");\n    }\n  };\n\n  useEffect(() => {\n    if (chatBodyRef.current) {\n      chatBodyRef.current.scrollTo({\n        top: chatBodyRef.current.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }, [chatHistory]);\n\n  return (\n    <div className=\"container\">\n      <button className=\"toggle-chat-btn\" onClick={() => setShowChat(!showChat)}>\n        {showChat ? <ChatBotIcon /> : <ChatBotIcon />}\n      </button>\n\n      {showChat && (\n        <div className=\"chatbot-popup\">\n          {/* Chat Header */}\n          <div className=\"chat-header\">\n            <div className=\"chat-info\">\n              <ChatBotIcon />\n              <h2 className=\"logo-text\">Chatboy</h2>\n            </div>\n            <button className=\"close-chat-btn\" onClick={() => setShowChat(false)}>\n              ✖\n            </button>\n          </div>\n\n          {/* Chat Body */}\n          <div ref={chatBodyRef} className=\"chat-body\">\n            <div className=\"message bot-message\">\n              <ChatBotIcon />\n              <p className=\"message-text\">\n                Hey there! <br /> How can I help you today?\n              </p>\n            </div>\n            {chatHistory.map((chat, index) => (\n              <ChatMessage key={index} chat={chat} />\n            ))}\n          </div>\n\n          {/* Chat Footer */}\n          <div className=\"chat-footer\">\n            <ChatForm\n              chatHistory={chatHistory}\n              setChatHistory={setChatHistory}\n              generateBotResponse={generateBotResponse}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}